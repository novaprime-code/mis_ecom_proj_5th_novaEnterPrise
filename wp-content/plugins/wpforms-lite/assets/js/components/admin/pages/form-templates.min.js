"use strict";var WPFormsAdminFormTemplates=window.WPFormsAdminFormTemplates||function(a,o){let n={init:function(){o(n.ready)},ready:function(){n.events()},events:function(){o(".wpforms-form-setup-content").on("keyup","#wpforms-setup-template-search",WPFormsFormTemplates.searchTemplate).on("click",".wpforms-setup-templates-categories li",WPFormsFormTemplates.selectCategory).on("click",".wpforms-template-select",n.selectTemplate).on("click",".wpforms-trigger-blank",n.selectBlankTemplate)},selectTemplate:function(e){e.preventDefault();e=o(this);e.hasClass("education-modal")||(o(".wpforms-form-setup-content").find(".wpforms-template").removeClass("active"),e.closest(".wpforms-template").addClass("active"),e.data("labelOriginal",e.html()),e.html('<i class="wpforms-loading-spinner wpforms-loading-white wpforms-loading-inline"></i>'+wpforms_admin.loading),n.selectTemplateProcessAjax(e.data("template-name-raw"),e.data("template")))},selectBlankTemplate:function(e){e.preventDefault(),n.selectTemplateProcessAjax("Blank Form","blank")},selectTemplateProcessAjax:function(t,e){e={title:t,action:"wpforms_new_form",template:e,form_id:0,nonce:wpforms_admin_form_templates.nonce};o.post(wpforms_admin.ajax_url,e).done(function(e){e.success?a.location.href=e.data.redirect:"invalid_template"===e.data.error_type?n.selectTemplateProcessInvalidTemplateError(e.data.message,t):n.selectTemplateProcessError(e.data.message)}).fail(function(e,t,a){n.selectTemplateProcessError("")})},selectTemplateProcessInvalidTemplateError:function(e,t){o.alert({title:wpforms_admin.heads_up,content:e,icon:"fa fa-exclamation-circle",type:"orange",boxWidth:"600px",buttons:{confirm:{text:wpforms_admin.use_simple_contact_form,btnClass:"btn-confirm",keys:["enter"],action:function(){n.selectTemplateProcessAjax(t,"simple-contact-form-template")}},cancel:{text:wpforms_admin.cancel,action:function(){WPFormsFormTemplates.selectTemplateCancel()}}}})},selectTemplateProcessError:function(e){e=e&&e.length?"<p>"+e+"</p>":"";o.alert({title:wpforms_admin.heads_up,content:wpforms_admin.error_select_template+e,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_admin.ok,btnClass:"btn-confirm",keys:["enter"],action:function(){WPFormsFormTemplates.selectTemplateCancel()}}}})}};return n}((document,window),jQuery);WPFormsAdminFormTemplates.init();