{"version":3,"sources":["webpack:///./src/pages/Personalization.vue?e273","webpack:///./src/pages/Personalization.vue","webpack:///src/pages/Personalization.vue","webpack:///./src/pages/Personalization.vue?3485","webpack:///./src/pages/Personalization.vue?8c86"],"names":["render","_vm","this","_c","_self","staticClass","_l","categories","category","key","slug","class","search","filter","on","$event","updateFilter","_v","_s","displayName","allFilters","attrs","domProps","updateSearch","type","indexOf","_k","keyCode","clearSearch","apply","arguments","_e","alerts","isLoading","staticRenderFns","data","order","computed","mounted","beforeDestroy","methods","component"],"mappings":"4IAAA,W,yCCAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,YAAY,CAACA,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACF,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACJ,EAAIK,GAAIL,EAAIM,YAAY,SAASC,GAAU,OAAOL,EAAG,IAAI,CAACM,IAAID,EAASE,KAAKL,YAAY,wCAAwCM,MAAM,CAAE,wCAAyCV,EAAIW,QAAUX,EAAIY,SAAWL,EAASE,MAAOI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAIe,aAAaR,EAASE,SAAS,CAACT,EAAIgB,GAAG,IAAIhB,EAAIiB,GAAGV,EAASW,aAAa,UAAShB,EAAG,IAAI,CAACE,YAAY,wCAAwCM,MAAM,CAAE,uCAAwCV,EAAImB,YAAaN,GAAG,CAAC,MAAQ,SAASC,GAAQd,EAAIY,OAAS,MAAM,CAACZ,EAAIgB,GAAG,UAAU,GAAGd,EAAG,MAAM,CAACE,YAAY,8DAA8D,CAACF,EAAG,QAAQ,CAACE,YAAY,cAAcgB,MAAM,CAAC,YAAc,YAAY,KAAO,QAAQC,SAAS,CAAC,MAAQrB,EAAIW,QAAQE,GAAG,CAAC,MAAQb,EAAIsB,aAAa,QAAU,SAASR,GAAQ,OAAIA,EAAOS,KAAKC,QAAQ,QAAQxB,EAAIyB,GAAGX,EAAOY,QAAQ,MAAM,GAAGZ,EAAON,IAAI,CAAC,MAAM,WAAkB,KAAYR,EAAI2B,YAAYC,MAAM,KAAMC,eAAgB7B,EAAIW,OAAQT,EAAG,YAAY,CAACE,YAAY,eAAeS,GAAG,CAAC,MAAQb,EAAI2B,eAAe3B,EAAI8B,MAAM,KAAK5B,EAAG,gBAAgB,CAACkB,MAAM,CAAC,GAAK,mBAAmB,OAASpB,EAAI+B,UAAW/B,EAAIgC,UAAW9B,EAAG,eAAe,CAACA,EAAG,KAAK,CAACF,EAAIgB,GAAG,kBAAkBd,EAAG,wBAAwB,CAACkB,MAAM,CAAC,WAAapB,EAAIM,WAAW,OAASN,EAAIY,OAAO,OAASZ,EAAIW,QAAQE,GAAG,CAAC,YAAcb,EAAI2B,gBAAgB,MAEziDM,EAAkB,G,YCiDP,GACfC,OACA,OACAtB,iBACAD,UACAL,YACA,CACAG,eACAS,sBACAiB,SAEA,CACA1B,cACAS,6BACAiB,SAEA,CACA1B,gBACAS,8BACAiB,SAEA,CACA1B,gBACAS,8BACAiB,SAEA,CACA1B,iBACAS,wBACAiB,YAKAC,UACAJ,YACA,qDAEAD,SACA,iDACA,gEAEAZ,aACA,mCAGAkB,UACA,qCACA,iDACA,gBAEA,yBAGAC,gBACA,mDAEAC,YACA,+BACA,iDACAxB,gBACA,cACA,gBAEAY,cACA,gBAEAL,gBACA,8BCvHyV,I,wBCQrVkB,EAAY,eACd,EACAzC,EACAkC,GACA,EACA,KACA,KACA,MAIa,aAAAO,E","file":"js/personalization.c4768d9a.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Personalization.vue?vue&type=style&index=0&id=5a7bd242&prod&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('core-page',[_c('div',{staticClass:\"omapi-personalization\"},[_c('div',{staticClass:\"omapi-personalization__filters\"},[_c('div',{staticClass:\"omapi-personalization__nav flex\"},[_vm._l((_vm.categories),function(category){return _c('a',{key:category.slug,staticClass:\"omapi-personalization__filter nohover\",class:{ 'omapi-personalization__filter-active': !_vm.search && _vm.filter === category.slug },on:{\"click\":function($event){return _vm.updateFilter(category.slug)}}},[_vm._v(\" \"+_vm._s(category.displayName)+\" \")])}),_c('a',{staticClass:\"omapi-personalization__filter nohover\",class:{ 'omapi-personalization__filter-active': _vm.allFilters },on:{\"click\":function($event){_vm.filter = ''}}},[_vm._v(\"All\")])],2),_c('div',{staticClass:\"omapi-personalization__search campaign-type-filter__search\"},[_c('input',{staticClass:\"omapi-input\",attrs:{\"placeholder\":\"Search...\",\"type\":\"text\"},domProps:{\"value\":_vm.search},on:{\"input\":_vm.updateSearch,\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.clearSearch.apply(null, arguments)}}}),(_vm.search)?_c('svg-times',{staticClass:\"clear-search\",on:{\"click\":_vm.clearSearch}}):_vm._e()],1)]),_c('common-alerts',{attrs:{\"id\":\"om-plugin-alerts\",\"alerts\":_vm.alerts}}),(_vm.isLoading)?_c('core-loading',[_c('h1',[_vm._v(\"Loading...\")])]):_c('personalization-rules',{attrs:{\"categories\":_vm.categories,\"filter\":_vm.filter,\"search\":_vm.search},on:{\"clearSearch\":_vm.clearSearch}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<core-page>\n\t\t<div class=\"omapi-personalization\">\n\t\t\t<div class=\"omapi-personalization__filters\">\n\t\t\t\t<div class=\"omapi-personalization__nav flex\">\n\t\t\t\t\t<a\n\t\t\t\t\t\tv-for=\"category in categories\"\n\t\t\t\t\t\t:key=\"category.slug\"\n\t\t\t\t\t\tclass=\"omapi-personalization__filter nohover\"\n\t\t\t\t\t\t:class=\"{ 'omapi-personalization__filter-active': !search && filter === category.slug }\"\n\t\t\t\t\t\t@click=\"updateFilter(category.slug)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ category.displayName }}\n\t\t\t\t\t</a>\n\t\t\t\t\t<a\n\t\t\t\t\t\tclass=\"omapi-personalization__filter nohover\"\n\t\t\t\t\t\t:class=\"{ 'omapi-personalization__filter-active': allFilters }\"\n\t\t\t\t\t\t@click=\"filter = ''\"\n\t\t\t\t\t\t>All</a\n\t\t\t\t\t>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"omapi-personalization__search campaign-type-filter__search\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Search...\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclass=\"omapi-input\"\n\t\t\t\t\t\t:value=\"search\"\n\t\t\t\t\t\t@input=\"updateSearch\"\n\t\t\t\t\t\t@keydown.esc=\"clearSearch\"\n\t\t\t\t\t/>\n\t\t\t\t\t<svg-times v-if=\"search\" class=\"clear-search\" @click=\"clearSearch\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<common-alerts id=\"om-plugin-alerts\" :alerts=\"alerts\" />\n\n\t\t\t<core-loading v-if=\"isLoading\"><h1>Loading...</h1></core-loading>\n\t\t\t<personalization-rules\n\t\t\t\tv-else\n\t\t\t\t:categories=\"categories\"\n\t\t\t\t:filter=\"filter\"\n\t\t\t\t:search=\"search\"\n\t\t\t\t@clearSearch=\"clearSearch\"\n\t\t\t/>\n\t\t</div>\n\t</core-page>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tfilter: 'popular',\n\t\t\tsearch: '',\n\t\t\tcategories: [\n\t\t\t\t{\n\t\t\t\t\tslug: 'popular',\n\t\t\t\t\tdisplayName: 'Popular',\n\t\t\t\t\torder: 1,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tslug: 'timing',\n\t\t\t\t\tdisplayName: 'Trigger (When)',\n\t\t\t\t\torder: 2,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tslug: 'triggers',\n\t\t\t\t\tdisplayName: 'Targeting (Who)',\n\t\t\t\t\torder: 3,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tslug: 'behavior',\n\t\t\t\t\tdisplayName: 'Personalization',\n\t\t\t\t\torder: 4,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tslug: 'ecommerce',\n\t\t\t\t\tdisplayName: 'Ecommerce',\n\t\t\t\t\torder: 5,\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t},\n\tcomputed: {\n\t\tisLoading() {\n\t\t\treturn !this.$store.getters.isFetched('rulesetData');\n\t\t},\n\t\talerts() {\n\t\t\tconst alerts = [...this.$get('$store.state.alerts', [])];\n\t\t\treturn alerts.concat(this.$get('$store.state.campaigns.alerts', []));\n\t\t},\n\t\tallFilters() {\n\t\t\treturn this.search || !this.filter;\n\t\t},\n\t},\n\tmounted() {\n\t\tif (this.$store.getters.shouldFetchUser) {\n\t\t\tthis.$bus.$on('fetchedMe', this.fetchRulesetData);\n\t\t\tthis.fetchMe();\n\t\t} else {\n\t\t\tthis.fetchRulesetData();\n\t\t}\n\t},\n\tbeforeDestroy() {\n\t\tthis.$bus.$off('fetchedMe', this.fetchRulesetData);\n\t},\n\tmethods: {\n\t\t...mapActions(['fetchMe']),\n\t\t...mapActions('campaigns', ['fetchRulesetData']),\n\t\tupdateFilter(filter) {\n\t\t\tthis.filter = filter;\n\t\t\tthis.search = '';\n\t\t},\n\t\tclearSearch() {\n\t\t\tthis.search = '';\n\t\t},\n\t\tupdateSearch(e) {\n\t\t\tthis.search = e.target.value;\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"scss\">\n@import '../assets/scss/variables';\n.omapi-screen .omapi-personalization {\n\t&__filters {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tborder-bottom: solid 2px $color_grey-cloud;\n\t\tmargin: 8px 0 35px;\n\t\t@media screen and (max-width: 1139px) {\n\t\t\tflex-direction: column-reverse;\n\t\t}\n\t}\n\t&__nav {\n\t\t@media screen and (max-width: 1139px) {\n\t\t\talign-self: flex-start;\n\t\t}\n\t}\n\t&__filter {\n\t\tpadding: 21px 18px 23px;\n\t\tfont-size: 15px;\n\t\tline-height: 1.3em;\n\t\tcolor: $font_secondary-color;\n\t\tborder-bottom: solid 2px $color_grey-cloud;\n\t\tmargin-bottom: -2px;\n\t\tcursor: pointer;\n\t\t&-active {\n\t\t\tfont-weight: $font_bold;\n\t\t\tcolor: $color_black;\n\t\t\tborder-bottom-color: $color_blue-primary;\n\t\t}\n\t\t@media screen and (max-width: 999px) {\n\t\t\tpadding: 17px 13px 19px;\n\t\t}\n\t}\n\t&__search {\n\t\t&.campaign-type-filter__search {\n\t\t\tsvg {\n\t\t\t\ttop: 9px;\n\t\t\t}\n\t\t}\n\t\t@media screen and (max-width: 1139px) {\n\t\t\talign-self: flex-end;\n\t\t}\n\t}\n\t&__category {\n\t\tborder-bottom: solid 1px $color_grey-separator;\n\t\tmargin-bottom: 30px;\n\t\tpadding-bottom: 30px;\n\t\t&-title {\n\t\t\tfont-size: 16px;\n\t\t\tline-height: 1.4em;\n\t\t\tmargin: 0 0 30px;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\t> svg {\n\t\t\t\tmargin-right: 5px;\n\t\t\t\theight: 20px;\n\t\t\t}\n\t\t}\n\t\t&-search {\n\t\t\tborder-bottom: solid 1px $color_grey-separator;\n\t\t\tpadding-bottom: 24px;\n\t\t\tmargin-bottom: 26px;\n\n\t\t\t&-icon {\n\t\t\t\tvertical-align: middle;\n\t\t\t\tmargin-left: 8px;\n\t\t\t\tcursor: pointer;\n\t\t\t\tline-height: 1;\n\n\t\t\t\tsvg {\n\t\t\t\t\tbackground: rgb(209, 215, 222);\n\t\t\t\t\tcolor: #fff;\n\t\t\t\t\twidth: 9px;\n\t\t\t\t\theight: 9px;\n\t\t\t\t\tborder-radius: 100%;\n\t\t\t\t\tpadding: 3px;\n\t\t\t\t}\n\t\t\t}\n\t\t\t> svg {\n\t\t\t\theight: 14px;\n\t\t\t\tmargin-right: 8px;\n\t\t\t}\n\t\t}\n\t\t&:last-child {\n\t\t\tborder-bottom: none;\n\t\t\tmargin-bottom: 7px;\n\t\t\tpadding-bottom: 0;\n\t\t}\n\t}\n\t&__rules {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t}\n\t&__rule {\n\t\tflex-basis: 30.5%;\n\t\tmargin-bottom: 20px;\n\t\tpadding-right: 21px;\n\t\tposition: relative;\n\t\t&-name {\n\t\t\tmargin: 0 0 2px;\n\t\t\tline-height: 1.3em;\n\t\t\tfont-size: 14px;\n\t\t\tdisplay: inline-flex;\n\t\t\talign-items: center;\n\t\t\tsvg {\n\t\t\t\theight: 14px;\n\t\t\t\tcolor: #b5bfc9;\n\t\t\t\tmargin-left: 5px;\n\t\t\t}\n\n\t\t\t&:hover {\n\t\t\t\tcursor: pointer;\n\t\t\t\t.omapi-personalization__rule-create {\n\t\t\t\t\tvisibility: visible;\n\t\t\t\t\t// We only want a delay before hiding the overlay, not on showing it\n\t\t\t\t\ttransition-delay: 0s;\n\t\t\t\t}\n\t\t\t\t.omapi-personalization__rule-name svg {\n\t\t\t\t\tcolor: #087ce1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t&-desc {\n\t\t\tcolor: $font_setting-color;\n\t\t\tline-height: 1.4em;\n\t\t\tfont-size: 14px;\n\t\t}\n\t\t&-create {\n\t\t\tvisibility: hidden;\n\t\t\tposition: absolute;\n\t\t\twidth: 128px;\n\t\t\ttext-align: center;\n\t\t\tpadding: 20px 20px 15px;\n\t\t\tz-index: 111;\n\t\t\ttop: 25px;\n\t\t\tleft: -7px;\n\t\t\tbox-shadow: 0px 3px 15px rgb(0 0 0 / 10%);\n\t\t\tborder: 1px solid #c9d0d6;\n\t\t\tborder-radius: 3px;\n\t\t\ttransition-duration: 0s;\n\t\t\ttransition-property: visibility;\n\t\t\ttransition-delay: 0.2s;\n\n\t\t\t&:before {\n\t\t\t\tcontent: '';\n\t\t\t\tbackground: #fff;\n\t\t\t\tborder-radius: 3px;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 100%;\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t}\n\n\t\t\t&:after {\n\t\t\t\tcontent: '';\n\t\t\t\twidth: 10px;\n\t\t\t\tbackground: #fff;\n\t\t\t\ttop: -5px;\n\t\t\t\tleft: 13px;\n\t\t\t\theight: 10px;\n\t\t\t\tposition: absolute;\n\t\t\t\ttransform: rotate(45deg);\n\t\t\t\tz-index: -1;\n\t\t\t\tborder: 1px solid #c9d0d6;\n\t\t\t\tborder-radius: 2px;\n\t\t\t}\n\n\t\t\t.omapi-button.omapi-button__small {\n\t\t\t\tmargin: 0 0 10px;\n\t\t\t\tpadding: 4px 6px 5px;\n\t\t\t\twidth: 114px;\n\t\t\t\tposition: relative;\n\t\t\t}\n\t\t\t.omapi-link-arrow-after {\n\t\t\t\tmargin-right: 0;\n\t\t\t\tpadding-right: 0;\n\t\t\t\tfont-weight: normal;\n\t\t\t\tfont-size: 12px;\n\t\t\t\tline-height: 1;\n\t\t\t\ttext-decoration-line: underline;\n\t\t\t\t&:after {\n\t\t\t\t\tcontent: ' →';\n\t\t\t\t\tmargin-left: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t&-add {\n\t\t\tposition: relative;\n\t\t\tdisplay: inherit;\n\t\t}\n\t\t@media screen and (max-width: 1199px) {\n\t\t\tflex-basis: 47%;\n\t\t}\n\t\t@media screen and (max-width: 999px) {\n\t\t\tflex-basis: 100%;\n\t\t\tpadding-right: 0;\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Personalization.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Personalization.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Personalization.vue?vue&type=template&id=5a7bd242&\"\nimport script from \"./Personalization.vue?vue&type=script&lang=js&\"\nexport * from \"./Personalization.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Personalization.vue?vue&type=style&index=0&id=5a7bd242&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}