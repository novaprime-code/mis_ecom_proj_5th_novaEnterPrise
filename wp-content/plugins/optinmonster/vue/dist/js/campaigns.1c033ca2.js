(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["campaigns"],{"0e4b":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t._self._c;return s("core-page",{staticClass:"omapi-campaign-table"},[s("h1",{staticClass:"wp-heading-inline"},[t._v("Campaigns")]),s("core-button",{staticClass:"omapi-add-new",attrs:{"router-to":"templates",size:"small"}},[t._v("Add New")]),s("common-alerts",{attrs:{alerts:t.alerts}}),s("transition",{attrs:{name:"fade",mode:"out-in"}},[t.connected||t.isLoading?t.showNoCampaigns?s("campaigns-no-campaigns"):s("div",{staticStyle:{position:"relative"}},[s("campaigns-table-filters",{attrs:{"is-bulk":0<t.bulk.length,"action-key":t.actionKey},on:{setAction:t.setAction}}),s("campaigns-table",{attrs:{campaigns:t.campaignsToShow,"is-bulk":0<t.bulk.length,"action-key":t.actionKey,"is-refreshing":t.isRefreshing||t.isLoading},on:{setAction:t.setAction}}),t.isLoading?s("core-loading",{staticStyle:{position:"absolute",top:"128px",opacity:"0.2"}}):t._e()],1):s("campaigns-not-connected")],1)],1)},i=[],n=a("9b02"),o=a.n(n),c=a("2f62"),r={beforeRouteLeave(t,s,a){"campaigns"!==o()(t,"meta.parent")&&"campaigns"!==o()(t,"name")&&this.updatePageVars(),a()},inheritAttrs:!1,data(){return{actionKey:"none"}},computed:{...Object(c["d"])(["connected","isFetched","shouldFetchUser"]),...Object(c["d"])("campaigns",["campaignsWithSplits"]),...Object(c["f"])(["alerts"]),...Object(c["f"])("campaigns",["bulk","page","search","totalCampaignsCount"]),isLoading(){return this.shouldFetchUser||this.$store.getters.isLoading("campaigns")},isRefreshing(){return this.$store.getters.isLoading("campaigns-refresh")},campaignsToShow(){return this.connected?this.campaignsWithSplits:[]},hasCampaigns(){return 0<this.totalCampaignsCount},showNoCampaigns(){return!this.hasCampaigns&&!this.isLoading&&this.isFetched("mainQuery")}},watch:{$route(t){this.updatePageVars(t),this.refreshDashboard().catch(()=>{})}},mounted(){this.setPageVars({page:this.$get("$route.params.campaignsPage",this.page),search:this.$get("$route.params.searchTerm",this.search)}),this.isLoading||this.initRequests(),this.$bus.$on("fetchedMe",this.initRequests)},beforeDestroy(){this.$bus.$off("fetchedMe",this.initRequests)},methods:{...Object(c["c"])("campaigns",["setPageVars","refreshDashboard","fetchRulesetData"]),initRequests(){this.refreshDashboard().catch(()=>{}),this.fetchRulesetData()},setAction(t){this.actionKey=t},updatePageVars(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setPageVars({page:o()(t,"params.campaignsPage",1),search:o()(t,"params.searchTerm","")})}}},h=r,g=(a("979f"),a("2877")),p=Object(g["a"])(h,e,i,!1,null,null,null);s["default"]=p.exports},"979f":function(t,s,a){"use strict";a("f794")},f794:function(t,s,a){}}]);
//# sourceMappingURL=campaigns.1c033ca2.js.map